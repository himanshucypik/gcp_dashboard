<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>GCP Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">

    <style>
        body {
          background-color: #f5f7fa;
        }
        .navbar {
          background: linear-gradient(90deg, #4285F4, #34A853);
        }
        .navbar-brand {
          color: #fff !important;
          font-weight: bold;
        }
        .card {
          border-radius: 15px;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .section-title {
          margin-top: 25px;
          margin-bottom: 10px;
          font-weight: bold;
          color: #333;
        }
        table {
          border-radius: 10px;
          overflow: hidden;
        }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">‚òÅÔ∏è GCP Dashboard</a>
    </div>
</nav>

<div class="container py-4">
    <!-- Input -->
    <div class="card p-4 mb-4">
        <h4 class="mb-3">üîç Search Project</h4>
        <p class="text-muted">Enter your GCP Project ID and fetch resources.</p>
        <div class="input-group mb-3">
            <input id="projectId" class="form-control" placeholder="Enter GCP Project ID (e.g. my-project-id)" />
            <button id="btnFetch" class="btn btn-primary">Fetch Instances & Buckets</button>
            <button id="btnListProjects" class="btn btn-outline-secondary">List Projects</button>
        </div>
    </div>

    <!-- Instances -->
    <h4 class="section-title">üíª Compute Instances</h4>
    <div class="card p-3 mb-4">
        <table id="instancesTable" class="table table-striped">
            <thead>
            <tr>
                <th>Name</th>
                <th>Zone</th>
                <th>Status</th>
                <th>Machine Type</th>
            </tr>
            </thead>
            <tbody id="instances">
            <tr><td colspan="4" class="text-center">No data yet.</td></tr>
            </tbody>
        </table>
    </div>

    <!-- Buckets -->
    <h4 class="section-title">üóÑÔ∏è Storage Buckets</h4>
    <div class="card p-3 mb-4">
        <table id="bucketsTable" class="table table-striped">
            <thead>
            <tr>
                <th>Name</th>
                <th>Location</th>
                <th>Created</th>
            </tr>
            </thead>
            <tbody id="buckets">
            <tr><td colspan="3" class="text-center">No data yet.</td></tr>
            </tbody>
        </table>
    </div>

    <!-- Projects -->
    <h4 class="section-title">üìÇ Projects</h4>
    <div class="card p-3 mb-4">
        <table id="projectsTable" class="table table-striped">
            <thead>
            <tr>
                <th>Project ID</th>
                <th>Name</th>
                <th>Number</th>
            </tr>
            </thead>
            <tbody id="projects">
            <tr><td colspan="3" class="text-center">No data yet.</td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- jQuery + Bootstrap + DataTables JS -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

<script src="{{ url_for('static', filename='app.js') }}"></script>

<script>
    // Initialize DataTables after page load
    $(document).ready(function () {
      $('#instancesTable').DataTable();
      $('#bucketsTable').DataTable();
      $('#projectsTable').DataTable();
    });
</script>
</body>
</html>
